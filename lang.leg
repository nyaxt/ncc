%{
namespace {
%}

NCCLang = s:Sum EndOfFile { yythis->setRootNode(s); }

EndOfFile = !.

Sum = l:Term ( PLUS r:Term	{ printf("+ %d %d\n", l, r); $$ = l; }
             | MINUS r:Term	{ printf("- %d %d\n", l, r); $$ = l; }
	     )*
PLUS = '+' _
MINUS = '-' _

Term = n:NumL { $$ = n; }

NumL = < [0-9]+ > - { $$ = yythis->addNode(new ValL(atoi(yytext))); }

_ = (' ' | '\r' | '\n') *

%%
} // end of anonymous namespace
